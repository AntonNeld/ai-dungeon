swagger: "2.0"
info:
  description: This is the API for the dungeon
  version: "1.0.0"
  title: Dungeon API
consumes:
  - "application/json"
produces:
  - "application/json"

basePath: "/api"

paths:
  /room/{room}:
    put:
      operationId: "endpoint.create_room"
      summary: "(Re-)initialize room."
      description: "Create a new room, possibly overwriting the old."
      parameters:
        - name: room
          in: path
          required: true
          type: string
      responses:
        200:
          description: "Successful operation"
    delete:
      operationId: "endpoint.delete_room"
      summary: "Remove room."
      description: "Delete a room that is no longer needed."
      parameters:
        - name: room
          in: path
          required: true
          type: string
      responses:
        200:
          description: "Successful operation"
  /room/{room}/view:
    get:
      operationId: "endpoint.get_view"
      summary: "Get everything in the room."
      description: "Currently returns everything in the room."
      parameters:
        - name: room
          in: path
          required: true
          type: string
      responses:
        200:
          description: "Successful operation"
          schema:
            type: array
            items:
              properties:
                x: 
                  type: integer
                y: 
                  type: integer
                looks_like: 
                  type: string
                id:
                  type: string
  /room/{room}/score:
    get:
      operationId: "endpoint.get_score"
      summary: "Get score."
      description: "Get score for some or all agents."
      parameters:
        - name: room
          in: path
          required: true
          type: string
        - name: agent
          in: query
          required: false
          type: string
      responses:
        200:
          description: "Successful operation"
          schema:
            type: array
            items:
              properties:
                id: 
                  type: string
                score: 
                  type: integer
  /room/{room}/step:
    post:
      operationId: "endpoint.step"
      summary: "Step world forward."
      description: "Moves all agents."
      parameters:
        - name: room
          in: path
          required: true
          type: string
      responses:
        201:
          description: "Stepped"
    get:
      operationId: "endpoint.get_steps"
      summary: "Get steps."
      description: "Get number of steps since beginning."
      parameters:
        - name: room
          in: path
          required: true
          type: string
      responses:
        200:
          description: "Successful operation"
          schema:
            type: integer